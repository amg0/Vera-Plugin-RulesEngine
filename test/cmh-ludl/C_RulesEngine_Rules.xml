<xml xmlns="http://www.w3.org/1999/xhtml">
  <block type="rule" x="10" y="10" hashcode="68270" version="0.12.2">
    <field name="id">1</field>
    <value name="name">
      <block type="text">
        <field name="TEXT">Rule_Condition_Value_EQ</field>
      </block>
    </value>
    <value name="properties">
      <block type="property_room">
        <field name="roomId">1</field>
      </block>
    </value>
    <value name="condition">
      <block type="condition_value">
        <mutation dummy="" text_service="TemperatureSensor1" text_variable="CurrentTemperature"></mutation>
        <field name="service">urn:upnp-org:serviceId:TemperatureSensor1</field>
        <field name="variable">CurrentTemperature</field>
        <field name="operator">EQ</field>
        <field name="value">10</field>
        <value name="device">
          <block type="device">
            <mutation inputs="id" dummy="" input_id="5" text_id="Temperature 1"></mutation>
            <field name="deviceId">5</field>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="rule" x="10" y="10" hashcode="315515" version="0.10">
    <field name="id">2</field>
    <value name="name">
      <block type="text">
        <field name="TEXT">Rule_Condition_Value_LTE</field>
      </block>
    </value>
    <value name="condition">
      <block type="condition_value">
        <mutation inputs="actions,params" dummy="" service="urn:upnp-org:serviceId:TemperatureSensor1" variable="CurrentTemperature"></mutation>
        <field name="operator">LTE</field>
        <field name="value">10</field>
        <value name="device">
          <block type="device">
            <mutation inputs="id,category" dummy="" input_id="6" text_id="Temperature 2" input_category="17" text_category="Temperature Sensor"></mutation>
            <field name="deviceId">6</field>
            <field name="category">17</field>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="rule" x="10" y="10" hashcode="68520" version="0.12.2">
    <field name="id">3</field>
    <value name="name">
      <block type="text">
        <field name="TEXT">Rule_Condition_Value_GTE</field>
      </block>
    </value>
    <value name="properties">
      <block type="property_room">
        <field name="roomId">2</field>
      </block>
    </value>
    <value name="condition">
      <block type="condition_value">
        <mutation dummy="" text_service="TemperatureSensor1" text_variable="CurrentTemperature"></mutation>
        <field name="service">urn:upnp-org:serviceId:TemperatureSensor1</field>
        <field name="variable">CurrentTemperature</field>
        <field name="operator">GTE</field>
        <field name="value">20.1</field>
        <value name="device">
          <block type="device">
            <mutation inputs="id" dummy="" input_id="6" text_id="Temperature 2"></mutation>
            <field name="deviceId">6</field>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="rule" x="30" y="10" hashcode="60419" version="0.10">
    <field name="id">4</field>
    <value name="name">
      <block type="text">
        <field name="TEXT">Rule_Condition_Value_NEQ</field>
      </block>
    </value>
    <value name="condition">
      <block type="condition_value">
        <mutation inputs="actions,params" dummy="" service="urn:upnp-org:serviceId:TemperatureSensor1" variable="CurrentTemperature"></mutation>
        <field name="operator">NEQ</field>
        <field name="value">20</field>
        <value name="device">
          <block type="device">
            <mutation inputs="id,category" dummy="" input_id="7" text_id="Temperature 3" input_category="17" text_category="Temperature Sensor"></mutation>
            <field name="deviceId">7</field>
            <field name="category">17</field>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="rule" x="30" y="10" hashcode="61216" version="0.10">
    <field name="id">5</field>
    <value name="name">
      <block type="text">
        <field name="TEXT">Rule_Condition_Value_LIKE</field>
      </block>
    </value>
    <value name="condition">
      <block type="condition_value">
        <mutation inputs="actions,params" dummy="" service="urn:upnp-org:serviceId:TemperatureSensor1" variable="CurrentTemperature"></mutation>
        <field name="operator">LIKE</field>
        <field name="value">^test_.*$</field>
        <value name="device">
          <block type="device">
            <mutation inputs="id,category" dummy="" input_id="8" text_id="Temperature 4" input_category="17" text_category="Temperature Sensor"></mutation>
            <field name="deviceId">8</field>
            <field name="category">17</field>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="rule" x="30" y="10" hashcode="61572" version="0.10">
    <field name="id">6</field>
    <value name="name">
      <block type="text">
        <field name="TEXT">Rule_Condition_Value_NOTLIKE</field>
      </block>
    </value>
    <value name="condition">
      <block type="condition_value">
        <mutation inputs="actions,params" dummy="" service="urn:upnp-org:serviceId:TemperatureSensor1" variable="CurrentTemperature"></mutation>
        <field name="operator">NOTLIKE</field>
        <field name="value">test_.*</field>
        <value name="device">
          <block type="device">
            <mutation inputs="id,category" dummy="" input_id="9" text_id="Temperature 5" input_category="17" text_category="Temperature Sensor"></mutation>
            <field name="deviceId">9</field>
            <field name="category">17</field>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="rule" x="10" y="10" hashcode="68045" version="0.11">
    <field name="id">7</field>
    <value name="name">
      <block type="text">
        <field name="TEXT">Rule_Condition_Value_Multi</field>
      </block>
    </value>
    <value name="condition">
      <block type="condition_value">
        <mutation dummy="" condition_type="event" input_device_type="urn:schemas-micasaverde-com:device:MotionSensor:1" text_device_type="MotionSensor:1" input_event="1" service="urn:micasaverde-com:serviceId:SecuritySensor1" variable="Armed;EQ;1|Tripped;EQ;1"></mutation>
        <field name="deviceType">urn:schemas-micasaverde-com:device:MotionSensor:1</field>
        <field name="eventId">1</field>
        <value name="device">
          <block type="device">
            <mutation inputs="id" dummy="" input_id="10" text_id="Motion 1"></mutation>
            <field name="deviceId">10</field>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="rule" x="10" y="10" hashcode="472642" version="0.12">
    <field name="id">8</field>
    <value name="name">
      <block type="text">
        <field name="TEXT">Rule_Level</field>
      </block>
    </value>
    <value name="description">
      <block type="text_area">
        <field name="TEXT"></field>
      </block>
    </value>
    <value name="condition">
      <block type="list_with_operator_condition">
        <mutation dummy="" items="3"></mutation>
        <field name="operator">OR</field>
        <value name="ADD0">
          <block type="condition_value">
            <mutation inputs="params" dummy="" condition_type="event" input_device_type="urn:schemas-micasaverde-com:device:TemperatureSensor:1" text_device_type="TemperatureSensor:1" input_event="1" service="urn:upnp-org:serviceId:TemperatureSensor1" variable="CurrentTemperature" operator="GT" value="10"></mutation>
            <field name="deviceType">urn:schemas-micasaverde-com:device:TemperatureSensor:1</field>
            <field name="eventId">1</field>
            <field name="value0">10</field>
            <value name="device">
              <block type="device">
                <mutation inputs="id" dummy="" input_id="5" text_id="Temperature 1"></mutation>
                <field name="deviceId">5</field>
              </block>
            </value>
            <value name="params">
              <block type="condition_param_level">
                <field name="level">1</field>
              </block>
            </value>
          </block>
        </value>
        <value name="ADD1">
          <block type="condition_value">
            <mutation inputs="params" dummy="" condition_type="event" input_device_type="urn:schemas-micasaverde-com:device:TemperatureSensor:1" text_device_type="TemperatureSensor:1" input_event="1" service="urn:upnp-org:serviceId:TemperatureSensor1" variable="CurrentTemperature" operator="GT" value="20"></mutation>
            <field name="deviceType">urn:schemas-micasaverde-com:device:TemperatureSensor:1</field>
            <field name="eventId">1</field>
            <field name="value0">20</field>
            <value name="device">
              <block type="device">
                <mutation inputs="id" dummy="" input_id="5" text_id="Temperature 1"></mutation>
                <field name="deviceId">5</field>
              </block>
            </value>
            <value name="params">
              <block type="condition_param_level">
                <field name="level">2</field>
              </block>
            </value>
          </block>
        </value>
        <value name="ADD2">
          <block type="condition_value">
            <mutation inputs="params" dummy="" condition_type="event" input_device_type="urn:schemas-micasaverde-com:device:TemperatureSensor:1" text_device_type="TemperatureSensor:1" input_event="1" service="urn:upnp-org:serviceId:TemperatureSensor1" variable="CurrentTemperature" operator="GT" value="30"></mutation>
            <field name="deviceType">urn:schemas-micasaverde-com:device:TemperatureSensor:1</field>
            <field name="eventId">1</field>
            <field name="value0">30</field>
            <value name="device">
              <block type="device">
                <mutation inputs="id" dummy="" input_id="5" text_id="Temperature 1"></mutation>
                <field name="deviceId">5</field>
              </block>
            </value>
            <value name="params">
              <block type="condition_param_level">
                <field name="level">3</field>
              </block>
            </value>
          </block>
        </value>
      </block>
    </value>
    <statement name="actions">
      <block type="action_group">
        <mutation inputs="params" dummy="" recurrent_interval_input="false"></mutation>
        <field name="event">start</field>
        <value name="params">
          <block type="action_param_level">
            <field name="level">1</field>
          </block>
        </value>
        <statement name="do">
          <block type="action_device">
            <mutation action_type="dim" service="urn:upnp-org:serviceId:Dimming1" action="SetLoadLevelTarget"></mutation>
            <field name="param_newLoadlevelTarget">50</field>
            <value name="device">
              <block type="device">
                <mutation inputs="id" dummy="" input_id="26" text_id="Dimmable"></mutation>
                <field name="deviceId">26</field>
              </block>
            </value>
            <next>
              <block type="action_function">
                <field name="functionContent">print( "Level 1", json.encode( context ) )\\n\\nprint(RulesEngine.getEnhancedMessage( "#devicename# temperature: #value#", context ) )</field>
              </block>
            </next>
          </block>
        </statement>
        <next>
          <block type="action_group">
            <mutation inputs="params" dummy="" recurrent_interval_input="false"></mutation>
            <field name="event">start</field>
            <value name="params">
              <block type="action_param_level">
                <field name="level">2</field>
              </block>
            </value>
            <statement name="do">
              <block type="action_device">
                <mutation action_type="dim" service="urn:upnp-org:serviceId:Dimming1" action="SetLoadLevelTarget"></mutation>
                <field name="param_newLoadlevelTarget">70</field>
                <value name="device">
                  <block type="device">
                    <mutation inputs="id" dummy="" input_id="26" text_id="Dimmable"></mutation>
                    <field name="deviceId">26</field>
                  </block>
                </value>
                <next>
                  <block type="action_function">
                    <field name="functionContent">print("Level 2", context)</field>
                  </block>
                </next>
              </block>
            </statement>
            <next>
              <block type="action_group">
                <mutation inputs="params" dummy="" recurrent_interval_input="false"></mutation>
                <field name="event">start</field>
                <value name="params">
                  <block type="action_param_level">
                    <field name="level">3</field>
                  </block>
                </value>
                <statement name="do">
                  <block type="action_device">
                    <mutation action_type="dim" service="urn:upnp-org:serviceId:Dimming1" action="SetLoadLevelTarget"></mutation>
                    <field name="param_newLoadlevelTarget">100</field>
                    <value name="device">
                      <block type="device">
                        <mutation inputs="id" dummy="" input_id="26" text_id="Dimmable"></mutation>
                        <field name="deviceId">26</field>
                      </block>
                    </value>
                    <next>
                      <block type="action_function">
                        <field name="functionContent">print("Level 3", json.encode(context))</field>
                      </block>
                    </next>
                  </block>
                </statement>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="rule" x="10" y="10" hashcode="59858" version="0.12">
    <field name="id">9</field>
    <value name="name">
      <block type="text">
        <field name="TEXT">Rule_Condition_Time_Between_Same_Day</field>
      </block>
    </value>
    <value name="description">
      <block type="text_area">
        <field name="TEXT"></field>
      </block>
    </value>
    <value name="properties">
      <block type="property_room">
        <field name="roomId"></field>
      </block>
    </value>
    <value name="condition">
      <block type="condition_time">
        <mutation inputs="timer_type" dummy="" input_time_operator="BW" input_timer_type="2"></mutation>
        <field name="operator">BW</field>
        <field name="time1">08:00:00</field>
        <field name="time2">20:00:00</field>
        <field name="timerType">2</field>
        <field name="daysOfWeek">2,3</field>
      </block>
    </value>
  </block>
  <block type="rule" x="10" y="10" hashcode="50983" version="0.12">
    <field name="id">10</field>
    <value name="name">
      <block type="text">
        <field name="TEXT">Rule_Condition_Time_Between_Two_Days</field>
      </block>
    </value>
    <value name="description">
      <block type="text_area">
        <field name="TEXT"></field>
      </block>
    </value>
    <value name="condition">
      <block type="condition_time">
        <mutation inputs="timer_type" dummy="" input_time_operator="BW" input_timer_type="2"></mutation>
        <field name="operator">BW</field>
        <field name="time1">21:00:00</field>
        <field name="time2">09:00:00</field>
        <field name="timerType">2</field>
        <field name="daysOfWeek">4,5</field>
      </block>
    </value>
  </block>
</xml>